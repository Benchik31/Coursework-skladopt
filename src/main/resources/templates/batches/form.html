<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head(~{::title})}">
    <title th:text="${pageTitle}">Поставка</title>
</head>
<body>
<div th:replace="~{fragments/layout :: layout(~{::title}, ~{::main})}">
    <main>
        <div th:replace="~{fragments/breadcrumbs :: breadcrumbs(pageTitle)}"></div>
        <h1 class="h4 mb-3" th:text="${pageTitle}">Поставка</h1>

        <form th:action="@{/batches/new}" th:object="${form}" method="post" class="row g-3">
            <div class="col-md-4">
                <label class="form-label" for="productId">Товар</label>
                <select id="productId" class="form-select" th:field="*{productId}" required>
                    <option th:each="p : ${products}" th:value="${p.id}" th:text="${p.name}">Товар</option>
                </select>
            </div>
            <div class="col-md-4">
                <label class="form-label" for="supplierId">Поставщик</label>
                <select id="supplierId" class="form-select" th:field="*{supplierId}" required>
                    <option th:each="s : ${suppliers}" th:value="${s.id}" th:text="${s.name}">Поставщик</option>
                </select>
            </div>
            <div class="col-md-4">
                <label class="form-label" for="warehouseId">Склад</label>
                <select id="warehouseId" class="form-select" th:field="*{warehouseId}" required>
                    <option th:each="w : ${warehouses}" th:value="${w.id}" th:text="${w.name}">Склад</option>
                </select>
            </div>
            <div class="col-md-4">
                <label class="form-label" for="receivedDate">Дата приёмки</label>
                <input id="receivedDate" type="date" class="form-control" th:field="*{receivedDate}" required>
            </div>
            <div class="col-md-4">
                <label class="form-label" for="expiryDate">Срок годности</label>
                <input id="expiryDate" type="date" class="form-control" th:field="*{expiryDate}">
            </div>
            <div class="col-md-4">
                <label class="form-label" for="purchasePrice">Закуп. цена</label>
                <input id="purchasePrice" type="number" step="0.01" min="0" class="form-control" th:field="*{purchasePrice}">
            </div>
            <div class="col-md-4">
                <label class="form-label" for="quantity">Количество</label>
                <input id="quantity" type="number" step="1" min="1" class="form-control" th:field="*{quantity}" required>
            </div>
            <div class="col-md-8">
                <label class="form-label" for="note">Примечание</label>
                <input id="note" type="text" class="form-control" th:field="*{note}">
            </div>
            <div class="col-12">
                <button class="btn btn-primary" type="submit">Сохранить</button>
                <a class="btn btn-outline-secondary" th:href="@{/batches}">Отмена</a>
            </div>
        </form>
    </main>
</div>
</body>
</html>
